// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`Template 1 1`] = `
[
  {
    "XtendInstruction": {
      "import": "com::tmobile::ei::sbp::mm::content::core::binding",
    },
  },
  {
    "TemplateText": "
",
  },
  {
    "XtendInstruction": {
      "import": "com::tmobile::ei::sbp::mm::content::core::infrastructure",
    },
  },
  {
    "TemplateText": "

",
  },
  {
    "XtendInstruction": {
      "extension": "extensions::esb",
    },
  },
  {
    "TemplateText": "
",
  },
  {
    "XtendInstruction": {
      "extension": "extensions::wsdl",
    },
  },
  {
    "TemplateText": "

",
  },
  {
    "XtendInstruction": {
      "define": "Root(Environment environment) FOR PortBinding",
    },
  },
  {
    "TemplateText": "
",
  },
  {
    "XtendInstruction": "ENDDEFINE",
  },
  {
    "TemplateText": "

",
  },
  {
    "XtendInstruction": {
      "define": "Root(Environment environment) FOR UsingPortBinding",
    },
  },
  {
    "TemplateText": "
",
  },
  {
    "XtendInstruction": {
      "bedingung": "!hasRESTPort(usingPort.getUsingPort()) && !isNotificationPort(usingPort) && ConnectedProvider(environment) != null",
    },
  },
  {
    "TemplateText": "
",
  },
  {
    "XtendInstruction": {
      "expand": "Root(environment, "/consumer/", usingPort.portType, ConnectedProvider(environment))",
    },
  },
  {
    "TemplateText": "
",
  },
  {
    "XtendInstruction": "ENDIF",
  },
  {
    "TemplateText": "
",
  },
  {
    "XtendInstruction": "ENDDEFINE",
  },
  {
    "TemplateText": "
  ",
  },
]
`;

exports[`Template 2 1`] = `
[
  {
    "XtendInstruction": {
      "bedingung": "isAQDirect(port)-",
    },
  },
  {
    "TemplateText": "
  <service protocol="jms" errorHandler="jmsErrorhandler" version="1" xmlns="http://www.artofarc.com/esb/service">
    <jmsBinding jndiConnectionFactory="java:comp/env/",
  },
  {
    "XtendInstruction": {
      "substitution": "getCFName(environment, port)",
    },
  },
  {
    "TemplateText": """,
  },
  {
    "XtendInstruction": {
      "substitution": "getWorkerPool()",
    },
  },
  {
    "TemplateText": ">
      <queueName>",
  },
  {
    "XtendInstruction": {
      "substitution": "getAQDirectQueueName(port)",
    },
  },
  {
    "TemplateText": "</queueName>
    </jmsBinding>
    <actionPipeline name="jmsErrorhandler">
      <conditional expression="contains(exception/message, 'JMS')">
        <throwException message="recoverable IO exception"/>
      </conditional>
  ",
  },
  {
    "XtendInstruction": {
      "expand": "Dashboard::LogUndeliveredMessage("Request", "exception/message/text()", "if (exception/cause) then exception/cause/text() else ''", "") FOR environment-",
    },
  },
  {
    "TemplateText": "
    </actionPipeline>
  ",
  },
  {
    "XtendInstruction": "ELSE",
  },
  {
    "TemplateText": "
  <service protocol="http" errorHandler="soapErrorhandler" version="1" xmlns="http://www.artofarc.com/esb/service">
    <httpBindURI",
  },
  {
    "XtendInstruction": {
      "substitution": "getMaxPool()",
    },
  },
  {
    "XtendInstruction": {
      "bedingung": "port.getMTOMSupport() != null",
    },
  },
  {
    "TemplateText": " multipartResponse="application/xop+xml"",
  },
  {
    "XtendInstruction": "ENDIF",
  },
  {
    "TemplateText": ">/",
  },
  {
    "XtendInstruction": {
      "substitution": "ESB0ServicePortAddressLocation()",
    },
  },
  {
    "TemplateText": "</httpBindURI>
    <actionPipeline name="soapErrorhandler">
      <transform>
  ",
  },
  {
    "XtendInstruction": {
      "bedingung": "externalInterface.isExternalAndSOAP12()-",
    },
  },
  {
    "TemplateText": "
        <xquery><![CDATA[<soap:Fault xmlns:soap="http://www.w3.org/2003/05/soap-envelope">
    <soap:Code><soap:Value>soap:Receiver</soap:Value></soap:Code>
    <soap:Reason><soap:Text xml:lang="en">{exception/message/text()}</soap:Text></soap:Reason>
    <soap:Detail>{exception/cause}</soap:Detail>
  </soap:Fault>]]></xquery>
  ",
  },
  {
    "XtendInstruction": "ELSE",
  },
  {
    "TemplateText": "
        <xquery><![CDATA[<soapenv:Fault xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"><faultcode>soapenv:Server</faultcode><faultstring>{exception/message/text()}</faultstring><detail>{exception/cause}</detail></soapenv:Fault>]]></xquery>
  ",
  },
  {
    "XtendInstruction": "ENDIF",
  },
  {
    "TemplateText": "
    ",
  },
]
`;

exports[`Template xpt/WSDL-File-Async-Callback.xpt 1`] = `
[
  {
    "XtendInstruction": "REM",
  },
  {
    "TemplateText": "
Generates the Async Response .wsdl-Files for a synchronous WSDLPortType
=> async (Consumer) / sync (Provider) mapping
",
  },
  {
    "XtendInstruction": "ENDREM",
  },
  {
    "TemplateText": "

",
  },
  {
    "XtendInstruction": {
      "import": "com::tmobile::ei::sbp::mm::content::core::iface",
    },
  },
  {
    "TemplateText": "

",
  },
  {
    "XtendInstruction": {
      "extension": "extensions::osb",
    },
  },
  {
    "TemplateText": "
",
  },
  {
    "XtendInstruction": "REM",
  },
  {
    "TemplateText": "
Assumptions:
- default-namespace in wsdl:definitions is always "http://schemas.xmlsoap.org/wsdl/"
  AND IGNORED by Importer (so we include default-namespace hardcoded here)
- prefixes "wsdl" and "soap"
  AND IGNORED by Importer (so we include them hardcoded here)
",
  },
  {
    "XtendInstruction": "ENDREM",
  },
  {
    "TemplateText": "
",
  },
  {
    "XtendInstruction": {
      "define": "Root(String baseDir, String relDir, boolean abstract, boolean inline, boolean oneWay) FOR WSDLPortType",
    },
  },
  {
    "TemplateText": "
	",
  },
  {
    "XtendInstruction": {
      "file": "baseDir + (relDir != null ? '/' + relDir.ensureEndsWithSlash() : '/') + WsdlFile("_Callback")",
    },
  },
  {
    "TemplateText": "<?xml version="1.0" encoding="UTF-8"?>
<wsdl:definitions
		name="",
  },
  {
    "XtendInstruction": {
      "substitution": "NameX()",
    },
  },
  {
    "TemplateText": "Definitions"
		targetNamespace="",
  },
  {
    "XtendInstruction": {
      "substitution": "TargetNamespaceUri()",
    },
  },
  {
    "TemplateText": ""
		xmlns:tns="",
  },
  {
    "XtendInstruction": {
      "substitution": "TargetNamespaceUri()",
    },
  },
  {
    "TemplateText": ""
		xmlns="http://schemas.xmlsoap.org/wsdl/"
		xmlns:wsdl="http://schemas.xmlsoap.org/wsdl/"
		xmlns:soap="http://schemas.xmlsoap.org/wsdl/soap/"
	>
	<!-- CEISeR version of WSDLPortType: ",
  },
  {
    "XtendInstruction": {
      "substitution": "validFromVersion",
    },
  },
  {
    "TemplateText": " (Branch: ",
  },
  {
    "XtendInstruction": {
      "substitution": "connectionToken.branch",
    },
  },
  {
    "TemplateText": ") -->
	<!-- version: ",
  },
  {
    "XtendInstruction": {
      "substitution": "Version()",
    },
  },
  {
    "TemplateText": " -->
	",
  },
  {
    "XtendInstruction": {
      "bedingung": "targetNamespace.description != null-",
    },
  },
  {
    "TemplateText": "
	<wsdl:documentation>",
  },
  {
    "XtendInstruction": {
      "substitution": "escapeXml(targetNamespace.description)",
    },
  },
  {
    "TemplateText": "</wsdl:documentation>
	",
  },
  {
    "XtendInstruction": "ENDIF",
  },
  {
    "TemplateText": "
	<wsdl:types>
	",
  },
  {
    "XtendInstruction": {
      "bedingung": "inline-",
    },
  },
  {
    "TemplateText": "
		",
  },
  {
    "XtendInstruction": {
      "forEach": "RecursiveReferencedNamespaceNotWellKnownOrOwn() AS currentNamespace-",
    },
  },
  {
    "TemplateText": "
			",
  },
  {
    "XtendInstruction": {
      "expand": "XmlSchema::Root(this, relDir != null ? relDir.ensureEndsWithSlash() + Directory() : Directory(), inline) FOR currentNamespace",
    },
  },
  {
    "TemplateText": "
		</xsd:schema>
		",
  },
  {
    "XtendInstruction": "ENDFOREACH",
  },
  {
    "TemplateText": "
	",
  },
  {
    "XtendInstruction": "ENDIF",
  },
  {
    "TemplateText": "
		",
  },
  {
    "XtendInstruction": {
      "expand": "XmlSchema::Root(this, relDir != null ? relDir.ensureEndsWithSlash() + Directory() : Directory(), inline) FOR targetNamespace",
    },
  },
  {
    "TemplateText": "
			",
  },
  {
    "XtendInstruction": {
      "let": "UsedPrefixes(targetNamespace).selectFirst(e|e.serviceNamespace.URI == getFoundationNamespaceURI()) AS eiPrefix -",
    },
  },
  {
    "TemplateText": "
			",
  },
  {
    "XtendInstruction": {
      "forEach": "operations.reject(e|e.isCheckAlive()) AS operation -",
    },
  },
  {
    "TemplateText": "
			<xsd:element name="",
  },
  {
    "XtendInstruction": {
      "substitution": "ResponseElementName(operation)",
    },
  },
  {
    "TemplateText": "Acknowledge" type="",
  },
  {
    "XtendInstruction": {
      "substitution": "eiPrefix.NameX()",
    },
  },
  {
    "TemplateText": ":acknowledgeRespType"/>
			",
  },
  {
    "XtendInstruction": "REM",
  },
  {
    "TemplateText": " empty response "ack" for incoming Fault message ",
  },
  {
    "XtendInstruction": "ENDREM",
  },
  {
    "TemplateText": "
			<xsd:element name="",
  },
  {
    "XtendInstruction": {
      "substitution": "operation.NameX()",
    },
  },
  {
    "XtendInstruction": {
      "substitution": "getPostFixAsyncFaultOperation()",
    },
  },
  {
    "TemplateText": "" type="",
  },
  {
    "XtendInstruction": {
      "substitution": "eiPrefix.NameX()",
    },
  },
  {
    "TemplateText": ":mepMappingFaultToBodyType"/>
			",
  },
  {
    "XtendInstruction": "ENDFOREACH",
  },
  {
    "TemplateText": "
			",
  },
  {
    "XtendInstruction": "ENDLET",
  },
  {
    "TemplateText": "
		</xsd:schema>
	</wsdl:types>
	<!-- ****************************************************************** -->
	",
  },
  {
    "XtendInstruction": {
      "forEach": "operations AS operation -",
    },
  },
  {
    "TemplateText": "
	",
  },
  {
    "XtendInstruction": {
      "bedingung": "operation.isCheckAlive()-",
    },
  },
  {
    "TemplateText": "
	",
  },
  {
    "XtendInstruction": {
      "forEach": "operation.UsedMessages() AS message-",
    },
  },
  {
    "TemplateText": "
	<wsdl:message name="",
  },
  {
    "XtendInstruction": {
      "substitution": "message.NameX()",
    },
  },
  {
    "TemplateText": "">
		",
  },
  {
    "XtendInstruction": {
      "bedingung": "message.description != null-",
    },
  },
  {
    "TemplateText": "
		<wsdl:documentation>",
  },
  {
    "XtendInstruction": {
      "substitution": "escapeXml(description)",
    },
  },
  {
    "TemplateText": "</wsdl:documentation>
		",
  },
  {
    "XtendInstruction": "ENDIF",
  },
  {
    "TemplateText": "
		",
  },
  {
    "XtendInstruction": {
      "forEach": "message.parts AS part-",
    },
  },
  {
    "TemplateText": "
		<wsdl:part name="",
  },
  {
    "XtendInstruction": {
      "substitution": "part.NameX()",
    },
  },
  {
    "TemplateText": "" element="tns:",
  },
  {
    "XtendInstruction": {
      "substitution": "part.messageType.NameX()",
    },
  },
  {
    "TemplateText": "" />
		",
  },
  {
    "XtendInstruction": "ENDFOREACH",
  },
  {
    "TemplateText": "
	</wsdl:message>
	",
  },
  {
    "XtendInstruction": "ENDFOREACH",
  },
  {
    "TemplateText": "
	",
  },
  {
    "XtendInstruction": "ELSE",
  },
  {
    "TemplateText": "
	",
  },
  {
    "XtendInstruction": {
      "let": "operation.output.message AS message-",
    },
  },
  {
    "TemplateText": "
	<wsdl:message name="",
  },
  {
    "XtendInstruction": {
      "substitution": "message.NameX()",
    },
  },
  {
    "TemplateText": "">
		",
  },
  {
    "XtendInstruction": {
      "bedingung": "message.description != null-",
    },
  },
  {
    "TemplateText": "
		<wsdl:documentation>",
  },
  {
    "XtendInstruction": {
      "substitution": "escapeXml(description)",
    },
  },
  {
    "TemplateText": "</wsdl:documentation>
		",
  },
  {
    "XtendInstruction": "ENDIF",
  },
  {
    "TemplateText": "
		",
  },
  {
    "XtendInstruction": {
      "forEach": "(Collection[WSDLMessagePart])message.parts AS part -",
    },
  },
  {
    "TemplateText": "
		<wsdl:part name="",
  },
  {
    "XtendInstruction": {
      "substitution": "part.NameX()",
    },
  },
  {
    "TemplateText": "" element="tns:",
  },
  {
    "XtendInstruction": {
      "substitution": "part.messageType.NameX()",
    },
  },
  {
    "TemplateText": "" />
		",
  },
  {
    "XtendInstruction": "ENDFOREACH",
  },
  {
    "TemplateText": "
	</wsdl:message>
	<wsdl:message name="",
  },
  {
    "XtendInstruction": {
      "substitution": "operation.NameX()",
    },
  },
  {
    "XtendInstruction": {
      "substitution": "getPostFixAsyncFaultOperation()",
    },
  },
  {
    "TemplateText": "">
		<wsdl:part name="parameters" element="tns:",
  },
  {
    "XtendInstruction": {
      "substitution": "operation.NameX()",
    },
  },
  {
    "XtendInstruction": {
      "substitution": "getPostFixAsyncFaultOperation()",
    },
  },
  {
    "TemplateText": "" />
	</wsdl:message>
	<wsdl:message name="",
  },
  {
    "XtendInstruction": {
      "substitution": "message.NameX()",
    },
  },
  {
    "TemplateText": "_Output">
		<wsdl:part name="parameters" element="tns:",
  },
  {
    "XtendInstruction": {
      "substitution": "ResponseElementName(operation)",
    },
  },
  {
    "TemplateText": "Acknowledge" />
	</wsdl:message>
	<wsdl:message name="",
  },
  {
    "XtendInstruction": {
      "substitution": "message.NameX()",
    },
  },
  {
    "TemplateText": "_Fault">
		<wsdl:part name="fault" element="tns:FaultDetail" />
	</wsdl:message>
	",
  },
  {
    "XtendInstruction": "ENDLET",
  },
  {
    "TemplateText": "
	",
  },
  {
    "XtendInstruction": "ENDIF",
  },
  {
    "TemplateText": "
	",
  },
  {
    "XtendInstruction": "ENDFOREACH",
  },
  {
    "TemplateText": "
	<!-- ****************************************************************** -->
	<wsdl:portType name="",
  },
  {
    "XtendInstruction": {
      "substitution": "WsdlPortTypeName()",
    },
  },
  {
    "TemplateText": "Callback">
		",
  },
  {
    "XtendInstruction": {
      "bedingung": "description != null-",
    },
  },
  {
    "TemplateText": "
		<wsdl:documentation>",
  },
  {
    "XtendInstruction": {
      "substitution": "escapeXml(description)",
    },
  },
  {
    "TemplateText": "</wsdl:documentation>
		",
  },
  {
    "XtendInstruction": "ENDIF",
  },
  {
    "TemplateText": "
		",
  },
  {
    "XtendInstruction": {
      "forEach": "operations.reject(e|e.isCheckAlive()) AS operation -",
    },
  },
  {
    "TemplateText": "
		<wsdl:operation name="",
  },
  {
    "XtendInstruction": {
      "substitution": "ResponseElementName(operation)",
    },
  },
  {
    "TemplateText": "">
			",
  },
  {
    "XtendInstruction": {
      "bedingung": "operation.description != null-",
    },
  },
  {
    "TemplateText": "
			<wsdl:documentation>",
  },
  {
    "XtendInstruction": {
      "substitution": "escapeXml(operation.description)",
    },
  },
  {
    "TemplateText": "</wsdl:documentation>
			",
  },
  {
    "XtendInstruction": "ENDIF",
  },
  {
    "TemplateText": "
			<wsdl:input",
  },
  {
    "XtendInstruction": {
      "bedingung": "!operation.isInputLogicallyNameless()",
    },
  },
  {
    "TemplateText": " name="",
  },
  {
    "XtendInstruction": {
      "substitution": "operation.output.NameX()",
    },
  },
  {
    "TemplateText": """,
  },
  {
    "XtendInstruction": "ENDIF",
  },
  {
    "TemplateText": " message="tns:",
  },
  {
    "XtendInstruction": {
      "substitution": "operation.output.message.NameX()",
    },
  },
  {
    "TemplateText": "" />
			",
  },
  {
    "XtendInstruction": {
      "bedingung": "!oneWay-",
    },
  },
  {
    "TemplateText": "
			<wsdl:output message="tns:",
  },
  {
    "XtendInstruction": {
      "substitution": "operation.output.message.NameX()",
    },
  },
  {
    "TemplateText": "_Output" />
			<wsdl:fault message="tns:",
  },
  {
    "XtendInstruction": {
      "substitution": "operation.output.message.NameX()",
    },
  },
  {
    "TemplateText": "_Fault" name="TechnicalExceptionFault" />
			",
  },
  {
    "XtendInstruction": "ENDIF",
  },
  {
    "TemplateText": "
		</wsdl:operation>
		<wsdl:operation name="",
  },
  {
    "XtendInstruction": {
      "substitution": "operation.NameX()",
    },
  },
  {
    "XtendInstruction": {
      "substitution": "getPostFixAsyncFaultOperation()",
    },
  },
  {
    "TemplateText": "">
			",
  },
  {
    "XtendInstruction": {
      "bedingung": "operation.description != null-",
    },
  },
  {
    "TemplateText": "
			<wsdl:documentation>",
  },
  {
    "XtendInstruction": {
      "substitution": "escapeXml(operation.description)",
    },
  },
  {
    "TemplateText": "</wsdl:documentation>
			",
  },
  {
    "XtendInstruction": "ENDIF",
  },
  {
    "TemplateText": "
			<wsdl:input message="tns:",
  },
  {
    "XtendInstruction": {
      "substitution": "operation.NameX()",
    },
  },
  {
    "XtendInstruction": {
      "substitution": "getPostFixAsyncFaultOperation()",
    },
  },
  {
    "TemplateText": "" />
			",
  },
  {
    "XtendInstruction": {
      "bedingung": "!oneWay-",
    },
  },
  {
    "TemplateText": "
			<wsdl:output message="tns:",
  },
  {
    "XtendInstruction": {
      "substitution": "operation.output.message.NameX()",
    },
  },
  {
    "TemplateText": "_Output" />
			<wsdl:fault message="tns:",
  },
  {
    "XtendInstruction": {
      "substitution": "operation.output.message.NameX()",
    },
  },
  {
    "TemplateText": "_Fault" name="TechnicalExceptionFault" />
			",
  },
  {
    "XtendInstruction": "ENDIF",
  },
  {
    "TemplateText": "
		</wsdl:operation>
		",
  },
  {
    "XtendInstruction": "ENDFOREACH",
  },
  {
    "TemplateText": "
		",
  },
  {
    "XtendInstruction": {
      "let": "operations.selectFirst(e|e.isCheckAlive()) AS operation-",
    },
  },
  {
    "TemplateText": "
		",
  },
  {
    "XtendInstruction": {
      "bedingung": "operation != null-",
    },
  },
  {
    "TemplateText": "
		<wsdl:operation name="",
  },
  {
    "XtendInstruction": {
      "substitution": "operation.NameX()",
    },
  },
  {
    "TemplateText": "">
			",
  },
  {
    "XtendInstruction": {
      "expand": "WsdlFile::AbstractOperationContent(oneWay) FOR operation-",
    },
  },
  {
    "TemplateText": "
		</wsdl:operation>
		",
  },
  {
    "XtendInstruction": "ENDIF",
  },
  {
    "TemplateText": "
		",
  },
  {
    "XtendInstruction": "ENDLET",
  },
  {
    "TemplateText": "
	</wsdl:portType>
	",
  },
  {
    "XtendInstruction": {
      "bedingung": "!abstract -",
    },
  },
  {
    "TemplateText": "
	<!-- ****************************************************************** -->
	<wsdl:binding name="",
  },
  {
    "XtendInstruction": {
      "substitution": "WsdlPortTypeName()",
    },
  },
  {
    "TemplateText": "CallbackBinding" type="tns:",
  },
  {
    "XtendInstruction": {
      "substitution": "WsdlPortTypeName()",
    },
  },
  {
    "TemplateText": "Callback">
		<soap:binding style="document" transport="http://schemas.xmlsoap.org/soap/http" />
		",
  },
  {
    "XtendInstruction": {
      "forEach": "operations.reject(e|e.isCheckAlive()) AS operation -",
    },
  },
  {
    "TemplateText": "
		<wsdl:operation name="",
  },
  {
    "XtendInstruction": {
      "substitution": "ResponseElementName(operation)",
    },
  },
  {
    "TemplateText": "">
			<soap:operation soapAction=""/>
			<wsdl:input>
				<soap:body use="literal" />
			</wsdl:input>
			",
  },
  {
    "XtendInstruction": {
      "bedingung": "!oneWay-",
    },
  },
  {
    "TemplateText": "
			<wsdl:output>
				<soap:body use="literal" />
			</wsdl:output>
			<wsdl:fault name="TechnicalExceptionFault">
				<soap:fault name="TechnicalExceptionFault" use="literal" />
			</wsdl:fault>
			",
  },
  {
    "XtendInstruction": "ENDIF",
  },
  {
    "TemplateText": "
		</wsdl:operation>
		<wsdl:operation name="",
  },
  {
    "XtendInstruction": {
      "substitution": "operation.NameX()",
    },
  },
  {
    "XtendInstruction": {
      "substitution": "getPostFixAsyncFaultOperation()",
    },
  },
  {
    "TemplateText": "">
			<soap:operation soapAction=""/>
			<wsdl:input>
				<soap:body use="literal" />
			</wsdl:input>
			",
  },
  {
    "XtendInstruction": {
      "bedingung": "!oneWay-",
    },
  },
  {
    "TemplateText": "
			<wsdl:output>
				<soap:body use="literal" />
			</wsdl:output>
			<wsdl:fault name="TechnicalExceptionFault">
				<soap:fault name="TechnicalExceptionFault" use="literal" />
			</wsdl:fault>
			",
  },
  {
    "XtendInstruction": "ENDIF",
  },
  {
    "TemplateText": "
		</wsdl:operation>
		",
  },
  {
    "XtendInstruction": "ENDFOREACH",
  },
  {
    "TemplateText": "
		",
  },
  {
    "XtendInstruction": {
      "let": "operations.selectFirst(e|e.isCheckAlive()) AS operation-",
    },
  },
  {
    "TemplateText": "
		",
  },
  {
    "XtendInstruction": {
      "bedingung": "operation != null-",
    },
  },
  {
    "TemplateText": "
		<wsdl:operation name="",
  },
  {
    "XtendInstruction": {
      "substitution": "operation.NameX()",
    },
  },
  {
    "TemplateText": "">
			<soap:operation",
  },
  {
    "XtendInstruction": {
      "bedingung": "operation.soapAction != null",
    },
  },
  {
    "TemplateText": " soapAction="",
  },
  {
    "XtendInstruction": {
      "substitution": "operation.soapAction",
    },
  },
  {
    "TemplateText": """,
  },
  {
    "XtendInstruction": "ELSE",
  },
  {
    "TemplateText": " soapAction=""",
  },
  {
    "XtendInstruction": "ENDIF",
  },
  {
    "TemplateText": "/>
			",
  },
  {
    "XtendInstruction": {
      "expand": "WsdlFile::BindingOperationContent(oneWay) FOR operation-",
    },
  },
  {
    "TemplateText": "
		</wsdl:operation>
		",
  },
  {
    "XtendInstruction": "ENDIF",
  },
  {
    "TemplateText": "
		",
  },
  {
    "XtendInstruction": "ENDLET",
  },
  {
    "TemplateText": "
	</wsdl:binding>
	<!-- ****************************************************************** -->
	<wsdl:service name="",
  },
  {
    "XtendInstruction": {
      "substitution": "WsdlPortTypeName()",
    },
  },
  {
    "TemplateText": "CallbackService">
		<wsdl:port name="",
  },
  {
    "XtendInstruction": {
      "substitution": "WsdlPortTypeName()",
    },
  },
  {
    "TemplateText": "Callback" binding="tns:",
  },
  {
    "XtendInstruction": {
      "substitution": "WsdlPortTypeName()",
    },
  },
  {
    "TemplateText": "CallbackBinding">
			<soap:address location="",
  },
  {
    "XtendInstruction": {
      "substitution": "DummyServicePortAddressLocationPrefix()",
    },
  },
  {
    "TemplateText": "" />
		</wsdl:port>
	</wsdl:service>
	",
  },
  {
    "XtendInstruction": "ENDIF",
  },
  {
    "TemplateText": "
</wsdl:definitions>
	",
  },
  {
    "XtendInstruction": {
      "substitution": "ENDFILE",
    },
  },
  {
    "TemplateText": "
",
  },
  {
    "XtendInstruction": "ENDDEFINE",
  },
  {
    "TemplateText": "
",
  },
]
`;

exports[`Template xpt/esb0/Dashboard.xpt 1`] = `
[
  {
    "XtendInstruction": {
      "import": "com::tmobile::ei::sbp::mm::foundation",
    },
  },
  {
    "TemplateText": "
",
  },
  {
    "XtendInstruction": {
      "import": "com::tmobile::ei::sbp::mm::content::core::iface",
    },
  },
  {
    "TemplateText": "
",
  },
  {
    "XtendInstruction": {
      "import": "com::tmobile::ei::sbp::mm::content::core::binding",
    },
  },
  {
    "TemplateText": "
",
  },
  {
    "XtendInstruction": {
      "import": "com::tmobile::ei::sbp::mm::content::core::infrastructure",
    },
  },
  {
    "TemplateText": "

",
  },
  {
    "XtendInstruction": {
      "extension": "extensions::esb",
    },
  },
  {
    "TemplateText": "

",
  },
  {
    "XtendInstruction": {
      "define": "Log(Environment environment, WSDLOperation operation, int nr, String text) FOR PortBinding-",
    },
  },
  {
    "TemplateText": "
",
  },
  {
    "XtendInstruction": {
      "bedingung": "hasToBeLogged(environment, operation, nr)-",
    },
  },
  {
    "TemplateText": "
			<internalService serviceURI="/logging/InternalLog_",
  },
  {
    "XtendInstruction": {
      "substitution": "nr",
    },
  },
  {
    "TemplateText": ""/>
",
  },
  {
    "XtendInstruction": "ENDIF",
  },
  {
    "TemplateText": "
",
  },
  {
    "XtendInstruction": "ENDDEFINE",
  },
  {
    "TemplateText": "

",
  },
  {
    "XtendInstruction": {
      "define": "_Log(int nr, String textExpr) FOR Environment-",
    },
  },
  {
    "TemplateText": "
			<fork copyMessage="false" workerPool="/logging/WorkerPool">
				<setMessage clearAll="true">
					<header name="MEP">\${MEP}</header>
					<header name="LogPointNo">",
  },
  {
    "XtendInstruction": {
      "substitution": "nr",
    },
  },
  {
    "TemplateText": "</header>
					<header name="Originator">ESB0</header>
					<header name="Environment">",
  },
  {
    "XtendInstruction": {
      "substitution": "NameX()",
    },
  },
  {
    "TemplateText": "</header>
					<header name="Operation">\${operation}</header>
					<header name="Service">\${serviceNamespace}</header>
					<header name="LogTimeStamp">\${initialTimestamp}</header>
					<body/>
				</setMessage>
				<assign contextItem="messageHeader">
					<nsDecl namespace="http://svi.de/kdf/ei/foundation/v1" prefix="v1"/>
					<assignment header="Description">",
  },
  {
    "XtendInstruction": {
      "substitution": "textExpr",
    },
  },
  {
    "TemplateText": "</assignment>
					<assignment header="senderFQN">v1:senderFQN[1]/text()</assignment>
					<assignment header="messageId">v1:messageId[1]/text()</assignment>
					<assignment header="relatesToMessageId" nullable="true">v1:relatesToMessageId[1]/text()</assignment>
					<assignment header="senderCurrentTimestampUTC">v1:senderCurrentTimestampUTC[1]/text()</assignment>
					<assignment header="processInstanceId">v1:processInstanceId[1]/text()</assignment>
					<assignment header="parentProcessInstanceId" nullable="true">v1:parentProcessInstanceId[1]/text()</assignment>
				</assign>
				<jms jndiConnectionFactory="java:comp/env/jms/DashboardConnectionFactory" bytesMessage="true" timeToLive="",
  },
  {
    "XtendInstruction": {
      "substitution": "getDashboardMessageTimeToLive()",
    },
  },
  {
    "TemplateText": "">
					<jndiDestination>java:comp/env/jms/DashboardQueue</jndiDestination>
				</jms>
			</fork>
",
  },
  {
    "XtendInstruction": "ENDDEFINE",
  },
  {
    "TemplateText": "

",
  },
  {
    "XtendInstruction": {
      "define": "LogWithMessage(Environment environment, WSDLOperation operation, int nr, String textExpr, String messageType, String faultCategory, String errorCode, String referenceExpr, String bindName) FOR PortBinding-",
    },
  },
  {
    "TemplateText": "
",
  },
  {
    "XtendInstruction": {
      "bedingung": "hasToBeLogged(environment, operation, nr)-",
    },
  },
  {
    "TemplateText": "
",
  },
  {
    "XtendInstruction": {
      "bedingung": "logMessage()-",
    },
  },
  {
    "TemplateText": "
",
  },
  {
    "XtendInstruction": {
      "bedingung": "referenceExpr == null-",
    },
  },
  {
    "TemplateText": "
			<internalService serviceURI="/logging/InternalLogWithMessage_",
  },
  {
    "XtendInstruction": {
      "substitution": "nr",
    },
  },
  {
    "XtendInstruction": {
      "substitution": "getInternalLogServiceSuffix(messageType, bindName)",
    },
  },
  {
    "TemplateText": ""/>
",
  },
  {
    "XtendInstruction": "ELSE",
  },
  {
    "TemplateText": "
",
  },
  {
    "XtendInstruction": {
      "expand": "_LogWithMessage(nr, textExpr, messageType, faultCategory, errorCode, referenceExpr, bindName, referenceExpr != null || nr == 53) FOR environment-",
    },
  },
  {
    "TemplateText": "
",
  },
  {
    "XtendInstruction": "ENDIF",
  },
  {
    "TemplateText": "
",
  },
  {
    "XtendInstruction": "ELSE",
  },
  {
    "TemplateText": "
			<internalService serviceURI="/logging/InternalLog_",
  },
  {
    "XtendInstruction": {
      "substitution": "nr",
    },
  },
  {
    "TemplateText": ""/>
",
  },
  {
    "XtendInstruction": "ENDIF",
  },
  {
    "TemplateText": "
",
  },
  {
    "XtendInstruction": "ENDIF",
  },
  {
    "TemplateText": "
",
  },
  {
    "XtendInstruction": "ENDDEFINE",
  },
  {
    "TemplateText": "

",
  },
  {
    "XtendInstruction": {
      "define": "_LogWithMessage(int nr, String textExpr, String messageType, String faultCategory, String errorCode, String referenceExpr, String bindName, boolean needsMessage) FOR Environment-",
    },
  },
  {
    "TemplateText": "
			<fork copyMessage="true" workerPool="/logging/WorkerPool">
				<setMessage clearAll="true">
					<header name="MEP">\${MEP}</header>
					<header name="LogPointNo">",
  },
  {
    "XtendInstruction": {
      "substitution": "nr",
    },
  },
  {
    "TemplateText": "</header>
					<header name="Originator">ESB0</header>
					<header name="Environment">",
  },
  {
    "XtendInstruction": {
      "substitution": "NameX()",
    },
  },
  {
    "TemplateText": "</header>
					<header name="Operation">\${operation}</header>
					<header name="Service">\${serviceNamespace}</header>
					<header name="LogTimeStamp">\${initialTimestamp}</header>
					<header name="MessageType">",
  },
  {
    "XtendInstruction": {
      "substitution": "messageType",
    },
  },
  {
    "TemplateText": "</header>
				</setMessage>
				<assign",
  },
  {
    "XtendInstruction": {
      "bedingung": "!needsMessage",
    },
  },
  {
    "TemplateText": " contextItem="messageHeader"",
  },
  {
    "XtendInstruction": "ENDIF",
  },
  {
    "TemplateText": ">
",
  },
  {
    "XtendInstruction": {
      "bedingung": "needsMessage-",
    },
  },
  {
    "TemplateText": "
					<bindName>messageHeader</bindName>
",
  },
  {
    "XtendInstruction": "ENDIF",
  },
  {
    "TemplateText": "
",
  },
  {
    "XtendInstruction": {
      "bedingung": "referenceExpr != null && referenceExpr.contains("$header/")-",
    },
  },
  {
    "TemplateText": "
					<bindName>header</bindName>
",
  },
  {
    "XtendInstruction": "ENDIF",
  },
  {
    "TemplateText": "
",
  },
  {
    "XtendInstruction": {
      "bedingung": "bindName != null-",
    },
  },
  {
    "TemplateText": "
					<bindName>",
  },
  {
    "XtendInstruction": {
      "substitution": "bindName",
    },
  },
  {
    "TemplateText": "</bindName>
",
  },
  {
    "XtendInstruction": "ENDIF",
  },
  {
    "TemplateText": "
					<nsDecl namespace="http://svi.de/kdf/ei/foundation/v1" prefix="v1"/>
					<assignment header="Description">",
  },
  {
    "XtendInstruction": {
      "substitution": "textExpr",
    },
  },
  {
    "TemplateText": "</assignment>
					<assignment header="senderFQN">",
  },
  {
    "XtendInstruction": {
      "bedingung": "needsMessage",
    },
  },
  {
    "TemplateText": "$messageHeader/",
  },
  {
    "XtendInstruction": "ENDIF",
  },
  {
    "TemplateText": "v1:senderFQN[1]/text()</assignment>
					<assignment header="messageId">",
  },
  {
    "XtendInstruction": {
      "bedingung": "needsMessage",
    },
  },
  {
    "TemplateText": "$messageHeader/",
  },
  {
    "XtendInstruction": "ENDIF",
  },
  {
    "TemplateText": "v1:messageId[1]/text()</assignment>
					<assignment header="relatesToMessageId" nullable="true">",
  },
  {
    "XtendInstruction": {
      "bedingung": "needsMessage",
    },
  },
  {
    "TemplateText": "$messageHeader/",
  },
  {
    "XtendInstruction": "ENDIF",
  },
  {
    "TemplateText": "v1:relatesToMessageId[1]/text()</assignment>
					<assignment header="senderCurrentTimestampUTC">",
  },
  {
    "XtendInstruction": {
      "bedingung": "needsMessage",
    },
  },
  {
    "TemplateText": "$messageHeader/",
  },
  {
    "XtendInstruction": "ENDIF",
  },
  {
    "TemplateText": "v1:senderCurrentTimestampUTC[1]/text()</assignment>
					<assignment header="processInstanceId">",
  },
  {
    "XtendInstruction": {
      "bedingung": "needsMessage",
    },
  },
  {
    "TemplateText": "$messageHeader/",
  },
  {
    "XtendInstruction": "ENDIF",
  },
  {
    "TemplateText": "v1:processInstanceId[1]/text()</assignment>
					<assignment header="parentProcessInstanceId" nullable="true">",
  },
  {
    "XtendInstruction": {
      "bedingung": "needsMessage",
    },
  },
  {
    "TemplateText": "$messageHeader/",
  },
  {
    "XtendInstruction": "ENDIF",
  },
  {
    "TemplateText": "v1:parentProcessInstanceId[1]/text()</assignment>
					<assignment header="faultCategory">",
  },
  {
    "XtendInstruction": {
      "substitution": "faultCategory",
    },
  },
  {
    "TemplateText": "</assignment>
					<assignment header="errorCode">",
  },
  {
    "XtendInstruction": {
      "substitution": "errorCode",
    },
  },
  {
    "TemplateText": "</assignment>
",
  },
  {
    "XtendInstruction": {
      "bedingung": "referenceExpr != null-",
    },
  },
  {
    "TemplateText": "
					<assignment header="Reference">",
  },
  {
    "XtendInstruction": {
      "substitution": "referenceExpr",
    },
  },
  {
    "TemplateText": "</assignment>
",
  },
  {
    "XtendInstruction": "ENDIF",
  },
  {
    "TemplateText": "
				</assign>
				<jms jndiConnectionFactory="java:comp/env/jms/DashboardConnectionFactory" bytesMessage="true" timeToLive="",
  },
  {
    "XtendInstruction": {
      "substitution": "getDashboardMessageTimeToLive()",
    },
  },
  {
    "TemplateText": "">
					<jndiDestination>java:comp/env/jms/DashboardQueue</jndiDestination>
				</jms>
			</fork>
",
  },
  {
    "XtendInstruction": "ENDDEFINE",
  },
  {
    "TemplateText": "

",
  },
  {
    "XtendInstruction": {
      "define": "LogRejectedMessage(String mep, int nr, String text, String messageType, String errCode, String errMessage, String indent) FOR Environment-",
    },
  },
  {
    "TemplateText": "
",
  },
  {
    "XtendInstruction": {
      "substitution": "indent",
    },
  },
  {
    "TemplateText": "			<setMessage clearAll="true">
",
  },
  {
    "XtendInstruction": {
      "substitution": "indent",
    },
  },
  {
    "TemplateText": "				<header name="MEP">",
  },
  {
    "XtendInstruction": {
      "substitution": "mep",
    },
  },
  {
    "TemplateText": "</header>
",
  },
  {
    "XtendInstruction": {
      "substitution": "indent",
    },
  },
  {
    "TemplateText": "				<header name="LogPointNo">",
  },
  {
    "XtendInstruction": {
      "substitution": "nr",
    },
  },
  {
    "TemplateText": "</header>
",
  },
  {
    "XtendInstruction": {
      "substitution": "indent",
    },
  },
  {
    "TemplateText": "				<header name="Originator">ESB0</header>
",
  },
  {
    "XtendInstruction": {
      "substitution": "indent",
    },
  },
  {
    "TemplateText": "				<header name="Description">",
  },
  {
    "XtendInstruction": {
      "substitution": "text",
    },
  },
  {
    "TemplateText": "</header>
",
  },
  {
    "XtendInstruction": {
      "substitution": "indent",
    },
  },
  {
    "TemplateText": "				<header name="Environment">",
  },
  {
    "XtendInstruction": {
      "substitution": "NameX()",
    },
  },
  {
    "TemplateText": "</header>
",
  },
  {
    "XtendInstruction": {
      "substitution": "indent",
    },
  },
  {
    "TemplateText": "				<header name="Operation">\${operation}</header>
",
  },
  {
    "XtendInstruction": {
      "substitution": "indent",
    },
  },
  {
    "TemplateText": "				<header name="Service">\${serviceNamespace}</header>
",
  },
  {
    "XtendInstruction": {
      "substitution": "indent",
    },
  },
  {
    "TemplateText": "				<header name="LogTimeStamp">\${initialTimestamp}</header>
",
  },
  {
    "XtendInstruction": {
      "substitution": "indent",
    },
  },
  {
    "TemplateText": "				<header name="MessageType">",
  },
  {
    "XtendInstruction": {
      "substitution": "messageType",
    },
  },
  {
    "TemplateText": "</header>
",
  },
  {
    "XtendInstruction": {
      "substitution": "indent",
    },
  },
  {
    "TemplateText": "			</setMessage>
",
  },
  {
    "XtendInstruction": {
      "substitution": "indent",
    },
  },
  {
    "TemplateText": "			<jms jndiConnectionFactory="java:comp/env/jms/DashboardConnectionFactory">
",
  },
  {
    "XtendInstruction": {
      "substitution": "indent",
    },
  },
  {
    "TemplateText": "				<jndiDestination>java:comp/env/jms/DashboardRejectedMessageQueue</jndiDestination>
",
  },
  {
    "XtendInstruction": {
      "substitution": "indent",
    },
  },
  {
    "TemplateText": "			</jms>
",
  },
  {
    "XtendInstruction": {
      "bedingung": "errCode != null-",
    },
  },
  {
    "TemplateText": "
",
  },
  {
    "XtendInstruction": {
      "substitution": "indent",
    },
  },
  {
    "TemplateText": "			<transform>
",
  },
  {
    "XtendInstruction": {
      "substitution": "indent",
    },
  },
  {
    "TemplateText": "				<xquery><![CDATA[<soapenv:Fault xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"><faultcode>soapenv:Server</faultcode><faultstring>",
  },
  {
    "XtendInstruction": {
      "substitution": "errCode",
    },
  },
  {
    "TemplateText": ": ",
  },
  {
    "XtendInstruction": {
      "substitution": "errMessage",
    },
  },
  {
    "TemplateText": "</faultstring></soapenv:Fault>]]></xquery>
",
  },
  {
    "XtendInstruction": {
      "substitution": "indent",
    },
  },
  {
    "TemplateText": "			</transform>
",
  },
  {
    "XtendInstruction": {
      "substitution": "indent",
    },
  },
  {
    "TemplateText": "			<setMessage>
",
  },
  {
    "XtendInstruction": {
      "substitution": "indent",
    },
  },
  {
    "TemplateText": "				<variable name="HttpResponseCode" javaType="java.lang.Integer">500</variable>
",
  },
  {
    "XtendInstruction": {
      "substitution": "indent",
    },
  },
  {
    "TemplateText": "			</setMessage>
",
  },
  {
    "XtendInstruction": {
      "substitution": "indent",
    },
  },
  {
    "TemplateText": "			<wrapSOAP/>
",
  },
  {
    "XtendInstruction": "ENDIF",
  },
  {
    "TemplateText": "
",
  },
  {
    "XtendInstruction": "ENDDEFINE",
  },
  {
    "TemplateText": "

",
  },
  {
    "XtendInstruction": {
      "define": "LogUndeliveredMessage(String messageType, String errCode, String errMessage, String indent) FOR Environment-",
    },
  },
  {
    "TemplateText": "
",
  },
  {
    "XtendInstruction": {
      "substitution": "indent",
    },
  },
  {
    "TemplateText": "		<setMessage clearAll="true">
",
  },
  {
    "XtendInstruction": {
      "substitution": "indent",
    },
  },
  {
    "TemplateText": "			<header name="MEP">\${MEP}</header>
",
  },
  {
    "XtendInstruction": {
      "substitution": "indent",
    },
  },
  {
    "TemplateText": "			<header name="Environment">",
  },
  {
    "XtendInstruction": {
      "substitution": "NameX()",
    },
  },
  {
    "TemplateText": "</header>
",
  },
  {
    "XtendInstruction": {
      "substitution": "indent",
    },
  },
  {
    "TemplateText": "			<header name="Operation">\${operation}</header>
",
  },
  {
    "XtendInstruction": {
      "substitution": "indent",
    },
  },
  {
    "TemplateText": "			<header name="Service">\${serviceNamespace}</header>
",
  },
  {
    "XtendInstruction": {
      "substitution": "indent",
    },
  },
  {
    "TemplateText": "			<header name="LogTimeStamp">\${initialTimestamp}</header>
",
  },
  {
    "XtendInstruction": {
      "substitution": "indent",
    },
  },
  {
    "TemplateText": "			<header name="Originator">ESB0</header>
",
  },
  {
    "XtendInstruction": {
      "substitution": "indent",
    },
  },
  {
    "TemplateText": "			<header name="MessageType">",
  },
  {
    "XtendInstruction": {
      "substitution": "messageType",
    },
  },
  {
    "TemplateText": "</header>
",
  },
  {
    "XtendInstruction": {
      "substitution": "indent",
    },
  },
  {
    "TemplateText": "		</setMessage>
",
  },
  {
    "XtendInstruction": {
      "substitution": "indent",
    },
  },
  {
    "TemplateText": "		<assign>
",
  },
  {
    "XtendInstruction": {
      "substitution": "indent",
    },
  },
  {
    "TemplateText": "			<bindName>messageHeader</bindName>
",
  },
  {
    "XtendInstruction": {
      "substitution": "indent",
    },
  },
  {
    "TemplateText": "			<nsDecl namespace="http://svi.de/kdf/ei/foundation/v1" prefix="v1"/>
",
  },
  {
    "XtendInstruction": {
      "substitution": "indent",
    },
  },
  {
    "TemplateText": "			<assignment header="senderFQN">$messageHeader/v1:senderFQN[1]/text()</assignment>
",
  },
  {
    "XtendInstruction": {
      "substitution": "indent",
    },
  },
  {
    "TemplateText": "			<assignment header="messageId">$messageHeader/v1:messageId[1]/text()</assignment>
",
  },
  {
    "XtendInstruction": {
      "substitution": "indent",
    },
  },
  {
    "TemplateText": "			<assignment header="relatesToMessageId" nullable="true">$messageHeader/v1:relatesToMessageId[1]/text()</assignment>
",
  },
  {
    "XtendInstruction": {
      "substitution": "indent",
    },
  },
  {
    "TemplateText": "			<assignment header="senderCurrentTimestampUTC">$messageHeader/v1:senderCurrentTimestampUTC[1]/text()</assignment>
",
  },
  {
    "XtendInstruction": {
      "substitution": "indent",
    },
  },
  {
    "TemplateText": "			<assignment header="processInstanceId">$messageHeader/v1:processInstanceId[1]/text()</assignment>
",
  },
  {
    "XtendInstruction": {
      "substitution": "indent",
    },
  },
  {
    "TemplateText": "			<assignment header="parentProcessInstanceId" nullable="true">$messageHeader/v1:parentProcessInstanceId[1]/text()</assignment>
",
  },
  {
    "XtendInstruction": {
      "substitution": "indent",
    },
  },
  {
    "TemplateText": "			<assignment header="errorCode">",
  },
  {
    "XtendInstruction": {
      "substitution": "errCode",
    },
  },
  {
    "TemplateText": "</assignment>
",
  },
  {
    "XtendInstruction": {
      "substitution": "indent",
    },
  },
  {
    "TemplateText": "			<assignment header="reason">",
  },
  {
    "XtendInstruction": {
      "substitution": "errMessage",
    },
  },
  {
    "TemplateText": "</assignment>
",
  },
  {
    "XtendInstruction": {
      "substitution": "indent",
    },
  },
  {
    "TemplateText": "		</assign>
",
  },
  {
    "XtendInstruction": {
      "substitution": "indent",
    },
  },
  {
    "TemplateText": "		<transform>
",
  },
  {
    "XtendInstruction": {
      "substitution": "indent",
    },
  },
  {
    "TemplateText": "			<xquery>declare variable $_request as element() external; $_request</xquery>
",
  },
  {
    "XtendInstruction": {
      "substitution": "indent",
    },
  },
  {
    "TemplateText": "		</transform>
",
  },
  {
    "XtendInstruction": {
      "substitution": "indent",
    },
  },
  {
    "TemplateText": "		<jms jndiConnectionFactory="java:comp/env/jms/DashboardConnectionFactory">
",
  },
  {
    "XtendInstruction": {
      "substitution": "indent",
    },
  },
  {
    "TemplateText": "			<jndiDestination>java:comp/env/jms/DashboardUndeliveredMessageQueue</jndiDestination>
",
  },
  {
    "XtendInstruction": {
      "substitution": "indent",
    },
  },
  {
    "TemplateText": "		</jms>
",
  },
  {
    "XtendInstruction": {
      "substitution": "indent",
    },
  },
  {
    "TemplateText": "		<internalService serviceURI="/logging/InternalLog_44"/>
",
  },
  {
    "XtendInstruction": "ENDDEFINE",
  },
  {
    "TemplateText": "

",
  },
  {
    "XtendInstruction": {
      "define": "DashboardService(Environment environment) FOR PortBinding",
    },
  },
  {
    "TemplateText": "
",
  },
  {
    "XtendInstruction": {
      "let": "port.component.parent.name AS appName",
    },
  },
  {
    "TemplateText": "
",
  },
  {
    "XtendInstruction": {
      "forEach": "enlist({}, getWorkerCount()) AS nr",
    },
  },
  {
    "TemplateText": "
",
  },
  {
    "XtendInstruction": {
      "file": "artefactsDir(environment) + "/logging/" + appName + "Dashboard" + nr + ".xservice"-",
    },
  },
  {
    "TemplateText": "
<service protocol="jms" version="1" xmlns="http://www.artofarc.com/esb/service">
	<jmsBinding jndiConnectionFactory="java:comp/env/",
  },
  {
    "XtendInstruction": {
      "substitution": "getCFName(environment, port)",
    },
  },
  {
    "TemplateText": "" workerPool="",
  },
  {
    "XtendInstruction": {
      "substitution": "appName",
    },
  },
  {
    "TemplateText": "Dashboard",
  },
  {
    "XtendInstruction": {
      "substitution": "nr",
    },
  },
  {
    "TemplateText": "">
		<queueName>InternalDashboardR01</queueName>
	</jmsBinding>
	<transform>
		<xquery>declare namespace soapenv="http://schemas.xmlsoap.org/soap/envelope/"; soapenv:Envelope[1]/soapenv:Body[1]/*[1]</xquery>
	</transform>
	<assign clearAll="true">
		<bindName>JMSTimestamp</bindName>
		<nsDecl namespace="http://svi.de/xsd/ei/internal/dashboard/v1" prefix="v1"/>
		<assignment header="Environment">'",
  },
  {
    "XtendInstruction": {
      "substitution": "NameX(environment)",
    },
  },
  {
    "TemplateText": "'</assignment>
		<assignment header="LogTimeStamp">$JMSTimestamp</assignment>
		<assignment header="senderFQN">v1:senderFQN[1]/text()</assignment>
		<assignment header="messageId">v1:messageId[1]/text()</assignment>
		<assignment header="relatesToMessageId" nullable="true">v1:relatesToMessageId[1]/text()</assignment>
		<assignment header="senderCurrentTimestampUTC">v1:senderCurrentTimestampUTC[1]/text()</assignment>
		<assignment header="processInstanceId">v1:processInstanceId[1]/text()</assignment>
		<assignment header="parentProcessInstanceId" nullable="true">v1:parentProcessInstanceId[1]/text()</assignment>
		<assignment header="Service">v1:service[1]/text()</assignment>
		<assignment header="Operation">v1:operation[1]/text()</assignment>
		<assignment header="LogPointNo">v1:logpointNo[1]/text()</assignment>
		<assignment header="Description">v1:description[1]/text()</assignment>
		<assignment header="MEP">if (v1:mep[1] and v1:mep[1] != 'sync') then v1:mep[1]/text() else 'requestReply'</assignment>
		<assignment header="Originator">if (v1:originator[1]) then v1:originator[1]/text() else '",
  },
  {
    "XtendInstruction": {
      "substitution": "appName.truncate(5)",
    },
  },
  {
    "TemplateText": "'</assignment>
	</assign>
	<setMessage>
		<body/>
	</setMessage>
	<jms jndiConnectionFactory="java:comp/env/jms/DashboardConnectionFactory" bytesMessage="true" timeToLive="",
  },
  {
    "XtendInstruction": {
      "substitution": "getDashboardMessageTimeToLive()",
    },
  },
  {
    "TemplateText": "">
		<jndiDestination>java:comp/env/jms/DashboardQueue</jndiDestination>
	</jms>
</service>
",
  },
  {
    "XtendInstruction": {
      "substitution": "ENDFILE",
    },
  },
  {
    "TemplateText": "

",
  },
  {
    "XtendInstruction": {
      "file": "artefactsDir(environment) + "/logging/" + appName + "Dashboard" + nr + ".wpdef"-",
    },
  },
  {
    "TemplateText": "
<workerPool minThreads="0" maxThreads="5" queueDepth="0" scheduledThreads="0" allowCoreThreadTimeOut="true" xmlns="http://www.artofarc.com/esb/service"/>
",
  },
  {
    "XtendInstruction": {
      "substitution": "ENDFILE",
    },
  },
  {
    "TemplateText": "
",
  },
  {
    "XtendInstruction": "ENDFOREACH",
  },
  {
    "TemplateText": "
",
  },
  {
    "XtendInstruction": "ENDLET",
  },
  {
    "TemplateText": "
",
  },
  {
    "XtendInstruction": "ENDDEFINE",
  },
  {
    "TemplateText": "
",
  },
]
`;

exports[`heavy nesting 1`] = `
[
  {
    "TemplateText": "<wsdl:message name="",
  },
  {
    "XtendInstruction": {
      "substitution": "message.NameX()",
    },
  },
  {
    "TemplateText": "">
    ",
  },
  {
    "XtendInstruction": {
      "bedingung": "message.description != null-",
    },
  },
  {
    "TemplateText": "
    <wsdl:documentation>",
  },
  {
    "XtendInstruction": {
      "substitution": "escapeXml(description)",
    },
  },
  {
    "TemplateText": "</wsdl:documentation>
    ",
  },
  {
    "XtendInstruction": "ENDIF",
  },
  {
    "TemplateText": "
    ",
  },
  {
    "XtendInstruction": {
      "forEach": "(Collection[WSDLMessagePart])message.parts AS part -",
    },
  },
  {
    "TemplateText": "
    <wsdl:part name="",
  },
  {
    "XtendInstruction": {
      "substitution": "part.NameX()",
    },
  },
  {
    "TemplateText": "" element="tns:",
  },
  {
    "XtendInstruction": {
      "substitution": "part.messageType.NameX()",
    },
  },
  {
    "TemplateText": "" />
    ",
  },
  {
    "XtendInstruction": "ENDFOREACH",
  },
  {
    "TemplateText": "
  </wsdl:message>
  ",
  },
]
`;
